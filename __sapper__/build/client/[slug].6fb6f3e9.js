import{S as t,i as s,s as e,e as a,t as r,a as n,w as o,b as l,d as i,f as c,g as f,h as u,x as $,j as m,k as p,l as h,y as g,r as d,p as q,q as y,B as x,u as w,D as j,E as b,I as v}from"./index.4be56612.js";import{a as A}from"./newsapi.724a8558.js";import{M as B,A as E}from"./Article.491190ad.js";function R(t,s,e){const a=t.slice();return a[2]=s[e],a}function k(t){let s;const e=new E({props:{data:t[2]}});return{c(){o(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,a){g(e,t,a),s=!0},p(t,s){const a={};2&s&&(a.data=t[2]),e.$set(a)},i(t){s||(q(e.$$.fragment,t),s=!0)},o(t){y(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function D(t){let s,e,a=t[1],r=[];for(let s=0;s<a.length;s+=1)r[s]=k(R(t,a,s));const n=t=>y(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();s=w()},l(t){for(let s=0;s<r.length;s+=1)r[s].l(t);s=w()},m(t,a){for(let s=0;s<r.length;s+=1)r[s].m(t,a);p(t,s,a),e=!0},p(t,e){if(2&e){let o;for(a=t[1],o=0;o<a.length;o+=1){const n=R(t,a,o);r[o]?(r[o].p(n,e),q(r[o],1)):(r[o]=k(n),r[o].c(),q(r[o],1),r[o].m(s.parentNode,s))}for(j(),o=a.length;o<r.length;o+=1)n(o);b()}},i(t){if(!e){for(let t=0;t<a.length;t+=1)q(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)y(r[t]);e=!1},d(t){v(r,t),t&&f(s)}}}function H(t){let s,e,w,j,b;const v=new B({props:{$$slots:{default:[D]},$$scope:{ctx:t}}});return{c(){s=a("h2"),e=r("Results for: "),w=r(t[0]),j=n(),o(v.$$.fragment),this.h()},l(a){s=l(a,"H2",{class:!0});var r=i(s);e=c(r,"Results for: "),w=c(r,t[0]),r.forEach(f),j=u(a),$(v.$$.fragment,a),this.h()},h(){m(s,"class","text-2xl mb-4 font-medium")},m(t,a){p(t,s,a),h(s,e),h(s,w),p(t,j,a),g(v,t,a),b=!0},p(t,[s]){(!b||1&s)&&d(w,t[0]);const e={};34&s&&(e.$$scope={dirty:s,ctx:t}),v.$set(e)},i(t){b||(q(v.$$.fragment,t),b=!0)},o(t){y(v.$$.fragment,t),b=!1},d(t){t&&f(s),t&&f(j),x(v,t)}}}async function I({params:t,query:s}){const e=await this.fetch(`https://newsapi.org/v2/${t.slug}?q=${s.q}&apiKey=${A}`),a=await e.json();if(200===e.status)return{query:s.q,articles:a.articles};this.error(e.status,a.message)}function K(t,s,e){let{query:a}=s,{articles:r}=s;return t.$set=(t=>{"query"in t&&e(0,a=t.query),"articles"in t&&e(1,r=t.articles)}),[a,r]}export default class extends t{constructor(t){super(),s(this,t,K,H,e,{query:0,articles:1})}}export{I as preload};
