'use strict';

var index$1 = require('./index-bfad13cd.js');
var newsapi = require('./newsapi-61ce29d9.js');
var Article = require('./Article-0b81b461.js');

/* src/routes/[slug].svelte generated by Svelte v3.16.7 */

async function preload({ params, query }) {
	const res = await this.fetch(`https://newsapi.org/v2/${params.slug}?q=${query.q}&apiKey=${newsapi.apiKey}`);
	const data = await res.json();

	if (res.status === 200) {
		return { query: query.q, articles: data.articles };
	} else {
		this.error(res.status, data.message);
	}
}

const U5Bslugu5D = index$1.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { query } = $$props;
	let { articles } = $$props;
	if ($$props.query === void 0 && $$bindings.query && query !== void 0) $$bindings.query(query);
	if ($$props.articles === void 0 && $$bindings.articles && articles !== void 0) $$bindings.articles(articles);

	return `<h2 class="${"text-2xl mb-4 font-medium"}">Results for: ${index$1.escape(query)}</h2>

${index$1.validate_component(Article.Masonry, "Masonry").$$render($$result, {}, {}, {
		default: () => `
  ${index$1.each(articles, article => `${index$1.validate_component(Article.Article, "Article").$$render($$result, { data: article }, {}, {})}`)}
`
	})}`;
});

exports.default = U5Bslugu5D;
exports.preload = preload;
