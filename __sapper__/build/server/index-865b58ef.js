'use strict';

var index$1 = require('./index-bfad13cd.js');
var newsapi = require('./newsapi-61ce29d9.js');

/* src/components/Publisher.svelte generated by Svelte v3.16.7 */

const Publisher = index$1.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { data } = $$props;
	const { id, name, description } = data;
	if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);

	return `<div class="${"publisher max-w-sm rounded overflow-hidden shadow-lg mx-auto my-8"}">
  <div class="${"px-6 py-4"}">
    <a href="${"publishers/" + index$1.escape(id)}">
      <div class="${"font-bold text-xl mb-2"}">${index$1.escape(name)}</div>
    </a>

    ${description
	? `<p class="${"text-gray-700 text-base"}">
        ${description}
      </p>`
	: ``}
  </div>
</div>`;
});

/* src/routes/publishers/index.svelte generated by Svelte v3.16.7 */

async function preload({ params, query }) {
	const res = await this.fetch(`https://newsapi.org/v2/sources?apiKey=${newsapi.apiKey}`);
	const data = await res.json();

	if (res.status === 200) {
		return { publishers: data.sources };
	} else {
		this.error(res.status, data.message);
	}
}

const Publishers = index$1.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { publishers } = $$props;
	if ($$props.publishers === void 0 && $$bindings.publishers && publishers !== void 0) $$bindings.publishers(publishers);

	return `${($$result.head += `<title>Publishers</title>`, "")}

${index$1.each(publishers, publisher => `${index$1.validate_component(Publisher, "Publisher").$$render($$result, { data: publisher }, {}, {})}`)}`;
});

exports.default = Publishers;
exports.preload = preload;
