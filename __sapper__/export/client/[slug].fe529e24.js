import{S as t,i as s,s as e,a,e as r,t as n,w as o,h as l,b as i,d as c,f,g as m,x as u,j as $,k as h,l as p,y as g,r as d,p as x,q as w,B as j,u as y,D as b,E as q,I as v}from"./index.4be56612.js";import{a as A}from"./newsapi.724a8558.js";import{M as B,A as E}from"./Article.491190ad.js";function L(t,s,e){const a=t.slice();return a[2]=s[e],a}function S(t){let s;const e=new E({props:{data:t[2],showSource:!1}});return{c(){o(e.$$.fragment)},l(t){u(e.$$.fragment,t)},m(t,a){g(e,t,a),s=!0},p(t,s){const a={};2&s&&(a.data=t[2]),e.$set(a)},i(t){s||(x(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function k(t){let s,e,a=t[1],r=[];for(let s=0;s<a.length;s+=1)r[s]=S(L(t,a,s));const n=t=>w(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();s=y()},l(t){for(let s=0;s<r.length;s+=1)r[s].l(t);s=y()},m(t,a){for(let s=0;s<r.length;s+=1)r[s].m(t,a);h(t,s,a),e=!0},p(t,e){if(2&e){let o;for(a=t[1],o=0;o<a.length;o+=1){const n=L(t,a,o);r[o]?(r[o].p(n,e),x(r[o],1)):(r[o]=S(n),r[o].c(),x(r[o],1),r[o].m(s.parentNode,s))}for(b(),o=a.length;o<r.length;o+=1)n(o);q()}},i(t){if(!e){for(let t=0;t<a.length;t+=1)x(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)w(r[t]);e=!1},d(t){v(r,t),t&&m(s)}}}function D(t){let s,e,y,b,q,v,A;document.title=s=t[0];const E=new B({props:{$$slots:{default:[k]},$$scope:{ctx:t}}});return{c(){e=a(),y=r("h2"),b=n("Last from: "),q=n(t[0]),v=a(),o(E.$$.fragment),this.h()},l(s){e=l(s),y=i(s,"H2",{class:!0});var a=c(y);b=f(a,"Last from: "),q=f(a,t[0]),a.forEach(m),v=l(s),u(E.$$.fragment,s),this.h()},h(){$(y,"class","text-2xl mb-4 font-medium")},m(t,s){h(t,e,s),h(t,y,s),p(y,b),p(y,q),h(t,v,s),g(E,t,s),A=!0},p(t,[e]){(!A||1&e)&&s!==(s=t[0])&&(document.title=s),(!A||1&e)&&d(q,t[0]);const a={};34&e&&(a.$$scope={dirty:e,ctx:t}),E.$set(a)},i(t){A||(x(E.$$.fragment,t),A=!0)},o(t){w(E.$$.fragment,t),A=!1},d(t){t&&m(e),t&&m(y),t&&m(v),j(E,t)}}}async function H({params:t,query:s}){const e=await this.fetch(`https://newsapi.org/v2/top-headlines?sources=${t.slug}&apiKey=${A}`),a=await e.json();if(200===e.status)return{title:t.slug,articles:a.articles};this.error(e.status,a.message)}function I(t,s,e){let{title:a}=s,{articles:r}=s;return t.$set=(t=>{"title"in t&&e(0,a=t.title),"articles"in t&&e(1,r=t.articles)}),[a,r]}export default class extends t{constructor(t){super(),s(this,t,I,D,e,{title:0,articles:1})}}export{H as preload};
