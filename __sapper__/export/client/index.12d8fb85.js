import{S as s,i as t,s as a,e,b as r,d as n,g as l,j as o,k as i,n as c,t as h,a as u,f,h as p,l as d,w as m,x as g,y as b,p as x,q as $,B as v,u as w,E as y,I as E,D as j}from"./index.4be56612.js";import{a as D}from"./newsapi.724a8558.js";function I(s){let t,a,m,g,b,x,$,v=s[2]&&function(s){let t;return{c(){t=e("p"),this.h()},l(s){t=r(s,"P",{class:!0}),n(t).forEach(l),this.h()},h(){o(t,"class","text-gray-700 text-base")},m(a,e){i(a,t,e),t.innerHTML=s[2]},p:c,d(s){s&&l(t)}}}(s);return{c(){t=e("div"),a=e("div"),m=e("a"),g=e("div"),b=h(s[1]),$=u(),v&&v.c(),this.h()},l(e){t=r(e,"DIV",{class:!0});var o=n(t);a=r(o,"DIV",{class:!0});var i=n(a);m=r(i,"A",{href:!0});var c=n(m);g=r(c,"DIV",{class:!0});var h=n(g);b=f(h,s[1]),h.forEach(l),c.forEach(l),$=p(i),v&&v.l(i),i.forEach(l),o.forEach(l),this.h()},h(){o(g,"class","font-bold text-xl mb-2"),o(m,"href",x="publishers/"+s[0]),o(a,"class","px-6 py-4"),o(t,"class","publisher max-w-sm rounded overflow-hidden shadow-lg mx-auto my-8")},m(s,e){i(s,t,e),d(t,a),d(a,m),d(m,g),d(g,b),d(a,$),v&&v.m(a,null)},p(s,[t]){s[2]&&v.p(s,t)},i:c,o:c,d(s){s&&l(t),v&&v.d()}}}function V(s,t,a){let{data:e}=t;const{id:r,name:n,description:l}=e;return s.$set=(s=>{"data"in s&&a(3,e=s.data)}),[r,n,l,e]}class q extends s{constructor(s){super(),t(this,s,V,I,a,{data:3})}}function B(s,t,a){const e=s.slice();return e[1]=t[a],e}function P(s){let t;const a=new q({props:{data:s[1]}});return{c(){m(a.$$.fragment)},l(s){g(a.$$.fragment,s)},m(s,e){b(a,s,e),t=!0},p(s,t){const e={};1&t&&(e.data=s[1]),a.$set(e)},i(s){t||(x(a.$$.fragment,s),t=!0)},o(s){$(a.$$.fragment,s),t=!1},d(s){v(a,s)}}}function k(s){let t,a,e,r=s[0],n=[];for(let t=0;t<r.length;t+=1)n[t]=P(B(s,r,t));const o=s=>$(n[s],1,1,()=>{n[s]=null});return{c(){t=u();for(let s=0;s<n.length;s+=1)n[s].c();a=w(),this.h()},l(s){t=p(s);for(let t=0;t<n.length;t+=1)n[t].l(s);a=w(),this.h()},h(){document.title="Publishers"},m(s,r){i(s,t,r);for(let t=0;t<n.length;t+=1)n[t].m(s,r);i(s,a,r),e=!0},p(s,[t]){if(1&t){let e;for(r=s[0],e=0;e<r.length;e+=1){const l=B(s,r,e);n[e]?(n[e].p(l,t),x(n[e],1)):(n[e]=P(l),n[e].c(),x(n[e],1),n[e].m(a.parentNode,a))}for(j(),e=r.length;e<n.length;e+=1)o(e);y()}},i(s){if(!e){for(let s=0;s<r.length;s+=1)x(n[s]);e=!0}},o(s){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)$(n[s]);e=!1},d(s){s&&l(t),E(n,s),s&&l(a)}}}async function A({params:s,query:t}){const a=await this.fetch(`https://newsapi.org/v2/sources?apiKey=${D}`),e=await a.json();if(200===a.status)return{publishers:e.sources};this.error(a.status,e.message)}function H(s,t,a){let{publishers:e}=t;return s.$set=(s=>{"publishers"in s&&a(0,e=s.publishers)}),[e]}export default class extends s{constructor(s){super(),t(this,s,H,k,a,{publishers:0})}}export{A as preload};
