'use strict';

var index$1 = require('./index-bfad13cd.js');
var newsapi = require('./newsapi-61ce29d9.js');
var Article = require('./Article-2393de55.js');

/* src/routes/[slug].svelte generated by Svelte v3.16.7 */

async function preload({ params, query }) {
	const res = await this.fetch(`https://newsapi.org/v2/${params.slug}?q=${query.q}&apiKey=${newsapi.apiKey}`);
	const data = await res.json();

	if (res.status === 200) {
		return { query: query.q, articles: data.articles };
	} else {
		this.error(res.status, data.message);
	}
}

const U5Bslugu5D = index$1.create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
	let { query } = $$props;
	let { articles } = $$props;
	if ($$props.query === void 0 && $$bindings.query && query !== void 0) $$bindings.query(query);
	if ($$props.articles === void 0 && $$bindings.articles && articles !== void 0) $$bindings.articles(articles);

	return `<h2 class="${"text-2xl mb-4 font-medium"}">Results for: ${index$1.escape(query)}</h2>

${index$1.validate_component(Article.Masonry, "Masonry").$$render($$result, {}, {}, {
		default: () => `
  ${index$1.each(articles, article => `${index$1.validate_component(Article.Article, "Article").$$render($$result, { data: article }, {}, {})}`)}
`
	})}`;
});

exports.default = U5Bslugu5D;
exports.preload = preload;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiW3NsdWddLTY3MDBjNzJlLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvcm91dGVzL1tzbHVnXS5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdCBjb250ZXh0PVwibW9kdWxlXCI+XG4gIGltcG9ydCB7IGFwaUtleSB9IGZyb20gJy4uL2FwaS9uZXdzYXBpJztcblxuICBleHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlbG9hZCh7IHBhcmFtcywgcXVlcnkgfSkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9uZXdzYXBpLm9yZy92Mi8ke3BhcmFtcy5zbHVnfT9xPSR7cXVlcnkucX0mYXBpS2V5PSR7YXBpS2V5fWBcbiAgICApO1xuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG5cbiAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICByZXR1cm4geyBxdWVyeTogcXVlcnkucSwgYXJ0aWNsZXM6IGRhdGEuYXJ0aWNsZXMgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lcnJvcihyZXMuc3RhdHVzLCBkYXRhLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuPC9zY3JpcHQ+XG5cbjxzY3JpcHQ+XG4gIGltcG9ydCBNYXNvbnJ5IGZyb20gJy4uL2NvbXBvbmVudHMvTWFzb25yeS5zdmVsdGUnO1xuICBpbXBvcnQgQXJ0aWNsZSBmcm9tICcuLi9jb21wb25lbnRzL0FydGljbGUuc3ZlbHRlJztcblxuICBleHBvcnQgbGV0IHF1ZXJ5O1xuICBleHBvcnQgbGV0IGFydGljbGVzO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cblxuPC9zdHlsZT5cblxuPGgyIGNsYXNzPVwidGV4dC0yeGwgbWItNCBmb250LW1lZGl1bVwiPlJlc3VsdHMgZm9yOiB7cXVlcnl9PC9oMj5cblxuPE1hc29ucnk+XG4gIHsjZWFjaCBhcnRpY2xlcyBhcyBhcnRpY2xlfVxuICAgIDxBcnRpY2xlIGRhdGE9e2FydGljbGV9IC8+XG4gIHsvZWFjaH1cbjwvTWFzb25yeT5cbiJdLCJuYW1lcyI6WyJhcGlLZXkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O2VBR3dCLE9BQU8sR0FBRyxNQUFNLEVBQUUsS0FBSztPQUNyQyxHQUFHLFNBQVMsSUFBSSxDQUFDLEtBQUssMkJBQ0EsTUFBTSxDQUFDLElBQUksTUFBTSxLQUFLLENBQUMsQ0FBQyxXQUFXQSxjQUFNO09BRy9ELElBQUksU0FBUyxHQUFHLENBQUMsSUFBSTs7S0FFdkIsR0FBRyxDQUFDLE1BQU0sS0FBSyxHQUFHO1dBQ1gsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFROztFQUVoRCxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU87Ozs7O09BVDVCLEtBQUs7T0FDTCxRQUFROzs7Ozs7OztpQkE0QlosUUFBUTs7Ozs7Ozs7In0=
